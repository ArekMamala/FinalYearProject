{"version":3,"sources":["./src/app/tab2/tab2.page.html","./src/app/tab2/tab2.module.ts","./src/app/tab2/tab2.page.scss","./src/app/tab2/tab2.page.ts"],"names":[],"mappings":"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","file":"tab2-tab2-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>\\r\\n      Sign-Up/Login\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-content\\\">\\r\\n  <!-- Using cards because it is an easier way of displaying information withour messing with full page.\\r\\n  Show hide certain cards and will make sure others working on project don't mess with your cards.-->\\r\\n\\r\\n  <!--This card is for signing up-->\\r\\n  <ion-card [hidden]=isHidden>\\r\\n    <h3>Sign-up</h3>\\r\\n\\r\\n    <ion-list>\\r\\n      <ion-item>\\r\\n        <ion-input type=\\\"text\\\" [(ngModel)]=\\\"username\\\" placeholder=\\\"Username Input\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-input type=\\\"password\\\" [(ngModel)]=\\\"inputPassword\\\" placeholder=\\\"Password Input\\\"></ion-input>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n\\r\\n    <ion-button color=\\\"primary\\\" (click)=\\\"addUser()\\\">Sign Up</ion-button>\\r\\n  \\r\\n  <!--This card is for logging in if user already has an account-->\\r\\n  </ion-card>\\r\\n  <!-- Notice how I can hide both cards when I don't want the user to see them-->\\r\\n  <ion-card [hidden]=isHidden>\\r\\n    <h5>Already have an account? Login below</h5>\\r\\n    <ion-button (click)=\\\"logIn()\\\" color=\\\"danger\\\">Login</ion-button>\\r\\n  </ion-card>\\r\\n\\r\\n  <!-- This card will display user information and allow the user to logout-->\\r\\n  <!-- Log out isn't fully complete yet-->\\r\\n  <ion-card [hidden]=showInfo>\\r\\n    <ion-button (click)=\\\"logOut()\\\">Log Out</ion-button>\\r\\n    User information\\r\\n  </ion-card>\\r\\n</ion-content>\"","import { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Tab2Page } from './tab2.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule.forChild([{ path: '', component: Tab2Page }])\r\n  ],\r\n  declarations: [Tab2Page]\r\n})\r\n\r\nexport class Tab2PageModule {\r\n\r\n}\r\n\r\n\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MifQ== */\"","import { Component } from \"@angular/core\";\n// This is for online storage\n// https://www.youtube.com/watch?v=5e7k8T8D4Lo\nimport * as firebase from \"firebase\";\nimport { snapshotToArray } from \"../../app/environment\";\nimport { NavController, AlertController } from \"@ionic/angular\";\n// This is for user login\n// https://www.youtube.com/watch?v=Q8zcieAWn3g\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { auth } from 'firebase/app';\n// This is for user information handling\nimport { UserService } from '../user.service';\nimport { Router } from '@angular/router';\n// This is for user folder\nimport { AngularFirestore } from '@angular/fire/firestore';\n\n@Component({\n  selector: \"app-tab2\",\n  templateUrl: \"tab2.page.html\",\n  styleUrls: [\"tab2.page.scss\"]\n})\nexport class Tab2Page {\n  items = [];\n  ref = firebase.database().ref(\"items/\");\n  // Username\n  username: string = \"\";\n  // Password\n  inputPassword: string = \"\";\n  // LogIn/Sign Up card\n  isHidden = false;\n  // User Information\n  showInfo = true;\n\n\n  constructor(public navCtrl: NavController, private alertCtrl: AlertController,\n    public afAuth: AngularFireAuth, public user: UserService, public router: Router,\n    public afstore: AngularFirestore) {\n    this.ref.on(\"value\", resp => {\n      this.items = snapshotToArray(resp);\n    });\n  }\n\n  // This method below is for adding users to the database\n  async addUser() {\n    const { username, inputPassword } = this\n    try {\n      //Using @fitness to trick firebase into thinking that the username is an email address\n      const res = await this.afAuth.auth.createUserWithEmailAndPassword(username + '@fitness.com', inputPassword)\n\n      // Creating a document and assigning value username\n      this.afstore.doc('user/${res.user.uid}').set({\n        username\n      })\n\n      // Adding this user to the user.service https://youtu.be/W5GD6gwYC18?t=412\n      if (res.user) {\n        this.user.setUser({\n          username,\n          uid: res.user.uid\n        })\n\n      }\n      console.log(res)\n      this.showAlert(\"Welcome\", \"Thank you for signing up!\")\n      // This should take the user to a diffrent page to config profile\n      this.router.navigate(['/tabs'])\n    } catch (error) {\n      // Throws error\n      this.showAlert(\"Error\", error.message)\n      console.dir(error)\n    }\n  }\n\n  // Basic method that shows popup alertbox\n  async showAlert(header: string, message: string) {\n    const alert = await this.alertCtrl.create({\n      header,\n      message,\n      buttons: [\"Confirm\"]\n    })\n    await alert.present()\n  }\n\n\n  // Method to allow the user to logIn \n  logIn() {\n    const { username, inputPassword } = this\n    // Long way of creating alertbox\n    // Please use other method\n    const alert = document.createElement(\"ion-alert\");\n    alert.header = \"Login\";\n    alert.inputs = [\n      {\n        name: \"username\",\n        id: \"username\",\n        type: \"email\",\n        placeholder: \"Email/Username\"\n      },\n      {\n        name: \"password\",\n        id: \"password\",\n        type: \"password\",\n        placeholder: \"Password\"\n      }\n    ];\n    alert.buttons = [\n      {\n        text: \"Cancel\",\n        role: \"cancel\",\n        cssClass: \"secondary\",\n        handler: () => {\n          console.log(\"Confirm Cancel\");\n        }\n      },\n      {\n        text: \"Ok\",\n        // This is for handling data \n        handler: async data => {\n          try {\n            // Getting information from user\n            // This is using firebase auth to check if logIn is correct\n            const res = await this.afAuth.auth.signInWithEmailAndPassword(data.username + '@fitness.com', data.password)\n            this.showAlert(\"Welcome\", \"Are you ready to start your workout?\")\n            // This hides the register card\n            this.isHidden = true;\n            // This shows user information (you can do this on different page if you want)\n            this.showInfo = false;\n\n            // Setting service\n            if (res.user) {\n              this.user.setUser({\n                username,\n                uid: res.user.uid\n              })\n              // Use this to bring user to homepage\n              this.router.navigate(['/tabs'])\n            }\n          } catch (err) {\n            // Shows error if user make a mistake\n            this.showAlert(\"Error\", err.message)\n            console.dir(err)\n          }\n          console.log(\"Confirm Ok\");\n        }\n      }\n    ];\n\n    document.body.appendChild(alert);\n    return alert.present();\n  }\n\n  // Method for the user logging out have not fully done this yet. So far basic \n  logOut() {\n    // Hiding the user info\n    this.showInfo = true;\n    // Showing the logIn and sign up\n    this.isHidden = false;\n  }\n\n}"],"sourceRoot":"webpack:///"}